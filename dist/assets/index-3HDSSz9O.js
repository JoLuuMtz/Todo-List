(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();class m{constructor(e){this.task=e,this.id=new Date().getTime(),this.completado=!1,this.creado=new Date}}class d{constructor(){this.ObtenerLocalStorage()}nuevoTodo(e){this.todos.push(e),this.guardarLocalStorage()}eliminarTodo(e){this.todos=this.todos.filter(t=>t.id!=e),this.guardarLocalStorage()}marcarCompletado(e){for(const t of this.todos)if(t.id==e){t.completado=!t.completado;break}}eliminarCompletado(){this.todos.filter(e=>!e.completado),this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("todo",JSON.stringify(this.todos))}ObtenerLocalStorage(){this.todos=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):[]}actualizarContadorPendientes(e){e=this.todos.filter(t=>!t.completado).length,contador.innerText=e}}const c=document.querySelector(".todo-list"),i=document.querySelector(".new-todo"),f=document.querySelector(".clear-completed"),p=document.querySelector(".filters"),h=document.querySelectorAll(".filtro");document.querySelector(".contador");const u=o=>{const e=`<li class= ${o.completado==!0?"completed":""} data-id=${o.id}>
    <div class="view">
        <input class="toggle" type="checkbox" ${o.completado==!0?"checked":""}>
        <label>${o.task}</label>
        <button class="destroy"></button>
    </div>
    <input class="edit" value="Create a TodoMVC template">
</li>`,t=document.createElement("div");return t.innerHTML=e,c.append(t.firstElementChild),t},a=new d;i.addEventListener("keyup",o=>{if(o.keyCode===13&&i.value.length>0){const e=new m(i.value);a.nuevoTodo(e),u(e),i.value=""}});c.addEventListener("click",o=>{const e=o.target.localName,t=o.target.parentElement.parentElement,s=t.getAttribute("data-id");console.log(e),console.log(t),console.log(s),e.includes("input")?(a.marcarCompletado(s),t.classList.toggle("completed")):e.includes("button")&&(a.eliminarTodo(s),c.removeChild(t))});f.addEventListener("click",()=>{a.eliminarCompletado();for(let o=c.children.length-1;o>=0;o--){const e=c.children[o];e.classList.contains("completed")&&c.removeChild(c.children[o]),console.log(e)}});p.addEventListener("click",o=>{const e=o.target.text;if(console.log(e),!!e){h.forEach(t=>t.classList.remove("selected"));for(const t of c.children){t.classList.remove("hidden");const s=t.classList.contains("completed");switch(e){case"Due":s&&t.classList.add("hidden");break;case"Completed":s||t.classList.add("hidden");break}}}});const g=new d;g.todos.forEach(o=>u(o));
